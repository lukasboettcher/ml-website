(self.webpackChunkipygany=self.webpackChunkipygany||[]).push([[153],{7153:(t,e,r)=>{t.exports.BinarySearchTree=r(4820),t.exports.AVLTree=r(3004)},3004:(t,e,r)=>{var n=r(4820),i=r(4066),a=r(8538);function o(t){this.tree=new u(t)}function u(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||i.defaultCheckValueEquality}r(1845),a.inherits(u,n),o._AVLTree=u,u.prototype.checkHeightCorrect=function(){var t,e;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(t=this.left?this.left.height:0,e=this.right?this.right.height:0,this.height!==1+Math.max(t,e))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},u.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},u.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},u.prototype.checkIsAVLT=function(){u.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},o.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},u.prototype.rightRotation=function(){var t,e,r,n,i=this,a=this.left;return a?(t=a.right,i.parent?(a.parent=i.parent,i.parent.left===i?i.parent.left=a:i.parent.right=a):a.parent=null,a.right=i,i.parent=a,i.left=t,t&&(t.parent=i),e=a.left?a.left.height:0,r=t?t.height:0,n=i.right?i.right.height:0,i.height=Math.max(r,n)+1,a.height=Math.max(e,i.height)+1,a):this},u.prototype.leftRotation=function(){var t,e,r,n,i=this,a=this.right;return a?(t=a.left,i.parent?(a.parent=i.parent,i.parent.left===i?i.parent.left=a:i.parent.right=a):a.parent=null,a.left=i,i.parent=a,i.right=t,t&&(t.parent=i),e=i.left?i.left.height:0,r=t?t.height:0,n=a.right?a.right.height:0,i.height=Math.max(e,r)+1,a.height=Math.max(n,i.height)+1,a):this},u.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},u.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},u.prototype.rebalanceAlongPath=function(t){var e,r,n=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(r=t.length-1;r>=0;r-=1)t[r].height=1+Math.max(t[r].left?t[r].left.height:0,t[r].right?t[r].right.height:0),t[r].balanceFactor()>1&&(e=t[r].rightTooSmall(),0===r&&(n=e)),t[r].balanceFactor()<-1&&(e=t[r].leftTooSmall(),0===r&&(n=e));return n},u.prototype.insert=function(t,e){var r=[],n=this;if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),this.height=1,this;for(;;){if(0===n.compareKeys(n.key,t)){if(n.unique){var i=new Error("Can't insert key "+t+", it violates the unique constraint");throw i.key=t,i.errorType="uniqueViolated",i}return n.data.push(e),this}if(r.push(n),n.compareKeys(t,n.key)<0){if(!n.left){r.push(n.createLeftChild({key:t,value:e}));break}n=n.left}else{if(!n.right){r.push(n.createRightChild({key:t,value:e}));break}n=n.right}}return this.rebalanceAlongPath(r)},o.prototype.insert=function(t,e){var r=this.tree.insert(t,e);r&&(this.tree=r)},u.prototype.delete=function(t,e){var r,n=[],i=this,a=[];if(!this.hasOwnProperty("key"))return this;for(;0!==i.compareKeys(t,i.key);)if(a.push(i),i.compareKeys(t,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}if(i.data.length>1&&void 0!==e)return i.data.forEach((function(t){i.checkValueEquality(t,e)||n.push(t)})),i.data=n,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(a));if(!i.left||!i.right)return r=i.left?i.left:i.right,i===this?(r.parent=null,r):(i.parent.left===i?(i.parent.left=r,r.parent=i.parent):(i.parent.right=r,r.parent=i.parent),this.rebalanceAlongPath(a));if(a.push(i),!(r=i.left).right)return i.key=r.key,i.data=r.data,i.left=r.left,r.left&&(r.left.parent=i),this.rebalanceAlongPath(a);for(;r.right;)a.push(r),r=r.right;return i.key=r.key,i.data=r.data,r.parent.right=r.left,r.left&&(r.left.parent=r.parent),this.rebalanceAlongPath(a)},o.prototype.delete=function(t,e){var r=this.tree.delete(t,e);r&&(this.tree=r)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach((function(t){o.prototype[t]=function(){return this.tree[t].apply(this.tree,arguments)}})),t.exports=o},4820:(t,e,r)=>{var n=r(4066);function i(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||n.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||n.defaultCheckValueEquality}function a(t,e){var r;for(r=0;r<e.length;r+=1)t.push(e[r])}i.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},i.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},i.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},i.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},i.prototype.checkAllNodesFullfillCondition=function(t){this.hasOwnProperty("key")&&(t(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(t),this.right&&this.right.checkAllNodesFullfillCondition(t))},i.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition((function(e){if(t.compareKeys(e,t.key)>=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")})),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition((function(e){if(t.compareKeys(e,t.key)<=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")})),this.right.checkNodeOrdering()))},i.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},i.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},i.prototype.getNumberOfKeys=function(){var t;return this.hasOwnProperty("key")?(t=1,this.left&&(t+=this.left.getNumberOfKeys()),this.right&&(t+=this.right.getNumberOfKeys()),t):0},i.prototype.createSimilar=function(t){return(t=t||{}).unique=this.unique,t.compareKeys=this.compareKeys,t.checkValueEquality=this.checkValueEquality,new this.constructor(t)},i.prototype.createLeftChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.left=e,e},i.prototype.createRightChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.right=e,e},i.prototype.insert=function(t,e){if(!this.hasOwnProperty("key"))return this.key=t,void this.data.push(e);if(0!==this.compareKeys(this.key,t))this.compareKeys(t,this.key)<0?this.left?this.left.insert(t,e):this.createLeftChild({key:t,value:e}):this.right?this.right.insert(t,e):this.createRightChild({key:t,value:e});else{if(this.unique){var r=new Error("Can't insert key "+t+", it violates the unique constraint");throw r.key=t,r.errorType="uniqueViolated",r}this.data.push(e)}},i.prototype.search=function(t){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,t)?this.data:this.compareKeys(t,this.key)<0?this.left?this.left.search(t):[]:this.right?this.right.search(t):[]:[]},i.prototype.getLowerBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===e.compareKeys(t.$gte,t.$gt)?function(r){return e.compareKeys(r,t.$gt)>0}:e.compareKeys(t.$gte,t.$gt)>0?function(r){return e.compareKeys(r,t.$gte)>=0}:function(r){return e.compareKeys(r,t.$gt)>0}:t.hasOwnProperty("$gt")?function(r){return e.compareKeys(r,t.$gt)>0}:function(r){return e.compareKeys(r,t.$gte)>=0}:function(){return!0}},i.prototype.getUpperBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===e.compareKeys(t.$lte,t.$lt)?function(r){return e.compareKeys(r,t.$lt)<0}:e.compareKeys(t.$lte,t.$lt)<0?function(r){return e.compareKeys(r,t.$lte)<=0}:function(r){return e.compareKeys(r,t.$lt)<0}:t.hasOwnProperty("$lt")?function(r){return e.compareKeys(r,t.$lt)<0}:function(r){return e.compareKeys(r,t.$lte)<=0}:function(){return!0}},i.prototype.betweenBounds=function(t,e,r){var n=[];return this.hasOwnProperty("key")?(e=e||this.getLowerBoundMatcher(t),r=r||this.getUpperBoundMatcher(t),e(this.key)&&this.left&&a(n,this.left.betweenBounds(t,e,r)),e(this.key)&&r(this.key)&&a(n,this.data),r(this.key)&&this.right&&a(n,this.right.betweenBounds(t,e,r)),n):[]},i.prototype.deleteIfLeaf=function(){return!(this.left||this.right||(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,0):(delete this.key,this.data=[],0)))},i.prototype.deleteIfOnlyOneChild=function(){var t;return this.left&&!this.right&&(t=this.left),!this.left&&this.right&&(t=this.right),!!t&&(this.parent?(this.parent.left===this?(this.parent.left=t,t.parent=this.parent):(this.parent.right=t,t.parent=this.parent),!0):(this.key=t.key,this.data=t.data,this.left=null,t.left&&(this.left=t.left,t.left.parent=this),this.right=null,t.right&&(this.right=t.right,t.right.parent=this),!0))},i.prototype.delete=function(t,e){var r,n=[],i=this;if(this.hasOwnProperty("key"))if(this.compareKeys(t,this.key)<0)this.left&&this.left.delete(t,e);else if(this.compareKeys(t,this.key)>0)this.right&&this.right.delete(t,e);else if(0!==!this.compareKeys(t,this.key))return this.data.length>1&&void 0!==e?(this.data.forEach((function(t){i.checkValueEquality(t,e)||n.push(t)})),void(i.data=n)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(r=this.left.getMaxKeyDescendant(),this.key=r.key,this.data=r.data,this===r.parent?(this.left=r.left,r.left&&(r.left.parent=r.parent)):(r.parent.right=r.left,r.left&&(r.left.parent=r.parent))):(r=this.right.getMinKeyDescendant(),this.key=r.key,this.data=r.data,this===r.parent?(this.right=r.right,r.right&&(r.right.parent=r.parent)):(r.parent.left=r.right,r.right&&(r.right.parent=r.parent)))))},i.prototype.executeOnEveryNode=function(t){this.left&&this.left.executeOnEveryNode(t),t(this),this.right&&this.right.executeOnEveryNode(t)},i.prototype.prettyPrint=function(t,e){e=e||"",console.log(e+"* "+this.key),t&&console.log(e+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(t,e+"  "):console.log(e+"  *"),this.right?this.right.prettyPrint(t,e+"  "):console.log(e+"  *"))},t.exports=i},4066:t=>{t.exports.getRandomArray=function t(e){var r,n;return 0===e?[]:1===e?[0]:(r=t(e-1),n=Math.floor(Math.random()*e),r.splice(n,0,e-1),r)},t.exports.defaultCompareKeysFunction=function(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;var r=new Error("Couldn't compare elements");throw r.a=t,r.b=e,r},t.exports.defaultCheckValueEquality=function(t,e){return t===e}},1845:function(t,e){(function(){var r=this,n=r._,i={},a=Array.prototype,o=Object.prototype,u=Function.prototype,h=a.push,l=a.slice,c=a.concat,s=o.toString,f=o.hasOwnProperty,p=a.forEach,y=a.map,g=a.reduce,d=a.reduceRight,v=a.filter,k=a.every,m=a.some,w=a.indexOf,b=a.lastIndexOf,O=Array.isArray,x=Object.keys,E=u.bind,K=function(t){return t instanceof K?t:this instanceof K?void(this._wrapped=t):new K(t)};t.exports&&(e=t.exports=K),e._=K,K.VERSION="1.4.4";var P=K.each=K.forEach=function(t,e,r){if(null!=t)if(p&&t.forEach===p)t.forEach(e,r);else if(t.length===+t.length){for(var n=0,a=t.length;n<a;n++)if(e.call(r,t[n],n,t)===i)return}else for(var o in t)if(K.has(t,o)&&e.call(r,t[o],o,t)===i)return};K.map=K.collect=function(t,e,r){var n=[];return null==t?n:y&&t.map===y?t.map(e,r):(P(t,(function(t,i,a){n[n.length]=e.call(r,t,i,a)})),n)};var _="Reduce of empty array with no initial value";K.reduce=K.foldl=K.inject=function(t,e,r,n){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return n&&(e=K.bind(e,n)),i?t.reduce(e,r):t.reduce(e);if(P(t,(function(t,a,o){i?r=e.call(n,r,t,a,o):(r=t,i=!0)})),!i)throw new TypeError(_);return r},K.reduceRight=K.foldr=function(t,e,r,n){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return n&&(e=K.bind(e,n)),i?t.reduceRight(e,r):t.reduceRight(e);var a=t.length;if(a!==+a){var o=K.keys(t);a=o.length}if(P(t,(function(u,h,l){h=o?o[--a]:--a,i?r=e.call(n,r,t[h],h,l):(r=t[h],i=!0)})),!i)throw new TypeError(_);return r},K.find=K.detect=function(t,e,r){var n;return A(t,(function(t,i,a){if(e.call(r,t,i,a))return n=t,!0})),n},K.filter=K.select=function(t,e,r){var n=[];return null==t?n:v&&t.filter===v?t.filter(e,r):(P(t,(function(t,i,a){e.call(r,t,i,a)&&(n[n.length]=t)})),n)},K.reject=function(t,e,r){return K.filter(t,(function(t,n,i){return!e.call(r,t,n,i)}),r)},K.every=K.all=function(t,e,r){e||(e=K.identity);var n=!0;return null==t?n:k&&t.every===k?t.every(e,r):(P(t,(function(t,a,o){if(!(n=n&&e.call(r,t,a,o)))return i})),!!n)};var A=K.some=K.any=function(t,e,r){e||(e=K.identity);var n=!1;return null==t?n:m&&t.some===m?t.some(e,r):(P(t,(function(t,a,o){if(n||(n=e.call(r,t,a,o)))return i})),!!n)};K.contains=K.include=function(t,e){return null!=t&&(w&&t.indexOf===w?-1!=t.indexOf(e):A(t,(function(t){return t===e})))},K.invoke=function(t,e){var r=l.call(arguments,2),n=K.isFunction(e);return K.map(t,(function(t){return(n?e:t[e]).apply(t,r)}))},K.pluck=function(t,e){return K.map(t,(function(t){return t[e]}))},K.where=function(t,e,r){return K.isEmpty(e)?r?null:[]:K[r?"find":"filter"](t,(function(t){for(var r in e)if(e[r]!==t[r])return!1;return!0}))},K.findWhere=function(t,e){return K.where(t,e,!0)},K.max=function(t,e,r){if(!e&&K.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&K.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return P(t,(function(t,i,a){var o=e?e.call(r,t,i,a):t;o>=n.computed&&(n={value:t,computed:o})})),n.value},K.min=function(t,e,r){if(!e&&K.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&K.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return P(t,(function(t,i,a){var o=e?e.call(r,t,i,a):t;o<n.computed&&(n={value:t,computed:o})})),n.value},K.shuffle=function(t){var e,r=0,n=[];return P(t,(function(t){e=K.random(r++),n[r-1]=n[e],n[e]=t})),n};var F=function(t){return K.isFunction(t)?t:function(e){return e[t]}};K.sortBy=function(t,e,r){var n=F(e);return K.pluck(K.map(t,(function(t,e,i){return{value:t,index:e,criteria:n.call(r,t,e,i)}})).sort((function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index<e.index?-1:1})),"value")};var M=function(t,e,r,n){var i={},a=F(e||K.identity);return P(t,(function(e,o){var u=a.call(r,e,o,t);n(i,u,e)})),i};K.groupBy=function(t,e,r){return M(t,e,r,(function(t,e,r){(K.has(t,e)?t[e]:t[e]=[]).push(r)}))},K.countBy=function(t,e,r){return M(t,e,r,(function(t,e){K.has(t,e)||(t[e]=0),t[e]++}))},K.sortedIndex=function(t,e,r,n){for(var i=(r=null==r?K.identity:F(r)).call(n,e),a=0,o=t.length;a<o;){var u=a+o>>>1;r.call(n,t[u])<i?a=u+1:o=u}return a},K.toArray=function(t){return t?K.isArray(t)?l.call(t):t.length===+t.length?K.map(t,K.identity):K.values(t):[]},K.size=function(t){return null==t?0:t.length===+t.length?t.length:K.keys(t).length},K.first=K.head=K.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:l.call(t,0,e)},K.initial=function(t,e,r){return l.call(t,0,t.length-(null==e||r?1:e))},K.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},K.rest=K.tail=K.drop=function(t,e,r){return l.call(t,null==e||r?1:e)},K.compact=function(t){return K.filter(t,K.identity)};var j=function(t,e,r){return P(t,(function(t){K.isArray(t)?e?h.apply(r,t):j(t,e,r):r.push(t)})),r};K.flatten=function(t,e){return j(t,e,[])},K.without=function(t){return K.difference(t,l.call(arguments,1))},K.uniq=K.unique=function(t,e,r,n){K.isFunction(e)&&(n=r,r=e,e=!1);var i=r?K.map(t,r,n):t,a=[],o=[];return P(i,(function(r,n){(e?n&&o[o.length-1]===r:K.contains(o,r))||(o.push(r),a.push(t[n]))})),a},K.union=function(){return K.uniq(c.apply(a,arguments))},K.intersection=function(t){var e=l.call(arguments,1);return K.filter(K.uniq(t),(function(t){return K.every(e,(function(e){return K.indexOf(e,t)>=0}))}))},K.difference=function(t){var e=c.apply(a,l.call(arguments,1));return K.filter(t,(function(t){return!K.contains(e,t)}))},K.zip=function(){for(var t=l.call(arguments),e=K.max(K.pluck(t,"length")),r=new Array(e),n=0;n<e;n++)r[n]=K.pluck(t,""+n);return r},K.object=function(t,e){if(null==t)return{};for(var r={},n=0,i=t.length;n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},K.indexOf=function(t,e,r){if(null==t)return-1;var n=0,i=t.length;if(r){if("number"!=typeof r)return t[n=K.sortedIndex(t,e)]===e?n:-1;n=r<0?Math.max(0,i+r):r}if(w&&t.indexOf===w)return t.indexOf(e,r);for(;n<i;n++)if(t[n]===e)return n;return-1},K.lastIndexOf=function(t,e,r){if(null==t)return-1;var n=null!=r;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,r):t.lastIndexOf(e);for(var i=n?r:t.length;i--;)if(t[i]===e)return i;return-1},K.range=function(t,e,r){arguments.length<=1&&(e=t||0,t=0),r=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=0,a=new Array(n);i<n;)a[i++]=t,t+=r;return a},K.bind=function(t,e){if(t.bind===E&&E)return E.apply(t,l.call(arguments,1));var r=l.call(arguments,2);return function(){return t.apply(e,r.concat(l.call(arguments)))}},K.partial=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},K.bindAll=function(t){var e=l.call(arguments,1);return 0===e.length&&(e=K.functions(t)),P(e,(function(e){t[e]=K.bind(t[e],t)})),t},K.memoize=function(t,e){var r={};return e||(e=K.identity),function(){var n=e.apply(this,arguments);return K.has(r,n)?r[n]:r[n]=t.apply(this,arguments)}},K.delay=function(t,e){var r=l.call(arguments,2);return setTimeout((function(){return t.apply(null,r)}),e)},K.defer=function(t){return K.delay.apply(K,[t,1].concat(l.call(arguments,1)))},K.throttle=function(t,e){var r,n,i,a,o=0,u=function(){o=new Date,i=null,a=t.apply(r,n)};return function(){var h=new Date,l=e-(h-o);return r=this,n=arguments,l<=0?(clearTimeout(i),i=null,o=h,a=t.apply(r,n)):i||(i=setTimeout(u,l)),a}},K.debounce=function(t,e,r){var n,i;return function(){var a=this,o=arguments,u=function(){n=null,r||(i=t.apply(a,o))},h=r&&!n;return clearTimeout(n),n=setTimeout(u,e),h&&(i=t.apply(a,o)),i}},K.once=function(t){var e,r=!1;return function(){return r||(r=!0,e=t.apply(this,arguments),t=null),e}},K.wrap=function(t,e){return function(){var r=[t];return h.apply(r,arguments),e.apply(this,r)}},K.compose=function(){var t=arguments;return function(){for(var e=arguments,r=t.length-1;r>=0;r--)e=[t[r].apply(this,e)];return e[0]}},K.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},K.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var r in t)K.has(t,r)&&(e[e.length]=r);return e},K.values=function(t){var e=[];for(var r in t)K.has(t,r)&&e.push(t[r]);return e},K.pairs=function(t){var e=[];for(var r in t)K.has(t,r)&&e.push([r,t[r]]);return e},K.invert=function(t){var e={};for(var r in t)K.has(t,r)&&(e[t[r]]=r);return e},K.functions=K.methods=function(t){var e=[];for(var r in t)K.isFunction(t[r])&&e.push(r);return e.sort()},K.extend=function(t){return P(l.call(arguments,1),(function(e){if(e)for(var r in e)t[r]=e[r]})),t},K.pick=function(t){var e={},r=c.apply(a,l.call(arguments,1));return P(r,(function(r){r in t&&(e[r]=t[r])})),e},K.omit=function(t){var e={},r=c.apply(a,l.call(arguments,1));for(var n in t)K.contains(r,n)||(e[n]=t[n]);return e},K.defaults=function(t){return P(l.call(arguments,1),(function(e){if(e)for(var r in e)null==t[r]&&(t[r]=e[r])})),t},K.clone=function(t){return K.isObject(t)?K.isArray(t)?t.slice():K.extend({},t):t},K.tap=function(t,e){return e(t),t};var C=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof K&&(t=t._wrapped),e instanceof K&&(e=e._wrapped);var i=s.call(t);if(i!=s.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=r.length;a--;)if(r[a]==t)return n[a]==e;r.push(t),n.push(e);var o=0,u=!0;if("[object Array]"==i){if(u=(o=t.length)==e.length)for(;o--&&(u=C(t[o],e[o],r,n)););}else{var h=t.constructor,l=e.constructor;if(h!==l&&!(K.isFunction(h)&&h instanceof h&&K.isFunction(l)&&l instanceof l))return!1;for(var c in t)if(K.has(t,c)&&(o++,!(u=K.has(e,c)&&C(t[c],e[c],r,n))))break;if(u){for(c in e)if(K.has(e,c)&&!o--)break;u=!o}}return r.pop(),n.pop(),u};K.isEqual=function(t,e){return C(t,e,[],[])},K.isEmpty=function(t){if(null==t)return!0;if(K.isArray(t)||K.isString(t))return 0===t.length;for(var e in t)if(K.has(t,e))return!1;return!0},K.isElement=function(t){return!(!t||1!==t.nodeType)},K.isArray=O||function(t){return"[object Array]"==s.call(t)},K.isObject=function(t){return t===Object(t)},P(["Arguments","Function","String","Number","Date","RegExp"],(function(t){K["is"+t]=function(e){return s.call(e)=="[object "+t+"]"}})),K.isArguments(arguments)||(K.isArguments=function(t){return!(!t||!K.has(t,"callee"))}),K.isFunction=function(t){return"function"==typeof t},K.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},K.isNaN=function(t){return K.isNumber(t)&&t!=+t},K.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==s.call(t)},K.isNull=function(t){return null===t},K.isUndefined=function(t){return void 0===t},K.has=function(t,e){return f.call(t,e)},K.noConflict=function(){return r._=n,this},K.identity=function(t){return t},K.times=function(t,e,r){for(var n=Array(t),i=0;i<t;i++)n[i]=e.call(r,i);return n},K.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};q.unescape=K.invert(q.escape);var $={escape:new RegExp("["+K.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+K.keys(q.unescape).join("|")+")","g")};K.each(["escape","unescape"],(function(t){K[t]=function(e){return null==e?"":(""+e).replace($[t],(function(e){return q[t][e]}))}})),K.result=function(t,e){if(null==t)return null;var r=t[e];return K.isFunction(r)?r.call(t):r},K.mixin=function(t){P(K.functions(t),(function(e){var r=K[e]=t[e];K.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),B.call(this,r.apply(K,t))}}))};var T=0;K.uniqueId=function(t){var e=++T+"";return t?t+e:e},K.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;K.template=function(t,e,r){var n;r=K.defaults({},r,K.templateSettings);var i=new RegExp([(r.escape||N).source,(r.interpolate||N).source,(r.evaluate||N).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(i,(function(e,r,n,i,u){return o+=t.slice(a,u).replace(R,(function(t){return"\\"+I[t]})),r&&(o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=u+e.length,e})),o+="';\n",r.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(r.variable||"obj","_",o)}catch(t){throw t.source=o,t}if(e)return n(e,K);var u=function(t){return n.call(this,t,K)};return u.source="function("+(r.variable||"obj")+"){\n"+o+"}",u},K.chain=function(t){return K(t).chain()};var B=function(t){return this._chain?K(t).chain():t};K.mixin(K),P(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=a[t];K.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!=t&&"splice"!=t||0!==r.length||delete r[0],B.call(this,r)}})),P(["concat","join","slice"],(function(t){var e=a[t];K.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}})),K.extend(K.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}}]);